(this["webpackJsonppersian-learner"]=this["webpackJsonppersian-learner"]||[]).push([[0],{32:function(e){e.exports=JSON.parse('{"a":"0.1.0"}')},33:function(e){e.exports=JSON.parse('[{"type":"noun","de":"Wasser","en":"water","fa":"\u0622\u0628","faRm":"oob"},{"type":"noun","de":"Papa","en":"dad","fa":"\u0628\u0627\u0628\u0627","faRm":"booboo"},{"type":"unclassified","de":"mit","en":"with","fa":"\u0628\u0627","faRm":"boo"},{"type":"noun","de":"Brot","en":"bread","fa":"\u0646\u0627\u0646","faRm":"naan"},{"type":"noun","de":"Geb\xe4ude","en":"building","fa":"\u0628\u064e\u0646\u0627","faRm":"banoo"},{"type":"unclassified","de":"das","en":"that","fa":"\u0622\u0646","faRm":"oon"},{"type":"noun","de":"Wind","en":"wind","fa":"\u0628\u0627\u062f","faRm":"bood"},{"type":"noun","de":"K\xf6rper","en":"body","fa":"\u0628\u064e\u062f\u064e\u0646","faRm":"badan"},{"type":"adjective","de":"schlecht","en":"bad","fa":"\u0628\u064e\u062f","faRm":"bad"},{"type":"noun","de":"Schrei","en":"shout","fa":"\u062f\u0627\u062f","faRm":"dood"},{"type":"verb","de":"geben","en":"give","fa":"\u062f\u0627\u062f\u064e\u0646","faRm":"doodan"},{"type":"noun","de":"T\xfcr","en":"door","fa":"\u062f\u064e\u0631","faRm":"dar"},{"type":"noun","de":"Last","en":"load","fa":"\u0628\u0627\u0631","faRm":"boor"},{"type":"verb","de":"fahren","en":"drive","fa":"\u0631\u0627\u0646\u062f\u064e\u0646","faRm":"roondan"},{"type":"unclassified","de":"er / sie hat nicht","en":"he / she doesn\'t have","fa":"\u0646\u064e\u062f\u0627\u0631\u064e\u062f","faRm":"nadoorad"},{"type":"noun","de":"Granatapfel","en":"pomegranate","fa":"\u0627\u064e\u0646\u0627\u0631","faRm":"aanoor"},{"type":"noun","de":"Regen","en":"rain","fa":"\u0628\u0627\u0631\u0627\u0646","faRm":"booroon"},{"type":"noun","de":"Mehl","en":"flour","fa":"\u0622\u0631\u062f","faRm":"oord"},{"type":"unclassified","de":"er / sie hat","en":"he / she has","fa":"\u062f\u0627\u0631\u064e\u062f","faRm":"doorad"},{"type":"noun","de":"Name","en":"name","fa":"\u0646\u0627\u0645","faRm":"noom"},{"type":"unclassified","de":"ich habe","en":"I have","fa":"\u062f\u0627\u0631\u064e\u0645","faRm":"dooram"},{"type":"unclassified","de":"ich kam","en":"I came","fa":"\u0622\u0645\u064e\u062f\u064e\u0645","faRm":"oomadam"},{"type":"unclassified","de":"er / sie kam","en":"he / she came","fa":"\u0622\u0645\u064e\u062f","faRm":"oomad"},{"type":"noun","de":"Mandel","en":"almond","fa":"\u0628\u0627\u062f\u0627\u0645","faRm":"boodoom"},{"type":"noun","de":"Mutter","en":"mother","fa":"\u0645\u0627\u062f\u064e\u0631","faRm":"moodar"},{"type":"noun","de":"Schlange","en":"snake","fa":"\u0645\u0627\u0631","faRm":"moor"},{"type":"unclassified","de":"ich","en":"I","fa":"\u0645\u064e\u0646","faRm":"man"},{"type":"noun","de":"Mann","en":"man","fa":"\u0645\u064e\u0631\u062f","faRm":"mard"},{"type":"noun","de":"Kopf","en":"head","fa":"\u0633\u064e\u0631","faRm":"sar"},{"type":"noun","de":"Kopfschmerzen","en":"headache","fa":"\u0633\u064e\u0631\u062f\u064e\u0631\u062f","faRm":"sardard"},{"type":"noun","de":"Gift","en":"poison","fa":"\u0633\u064e\u0645","faRm":"sam"},{"type":"noun","de":"Sichel","en":"sickle","fa":"\u062f\u0627\u0633","faRm":"doos"},{"type":"noun","de":"Korb","en":"basket","fa":"\u0633\u064e\u0628\u064e\u062f","faRm":"sabad"},{"type":"noun","de":"Pferd","en":"horse","fa":"\u0627\u0633\u0628","faRm":"aasb"}]')},36:function(e,t,a){e.exports=a(49)},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n,r=a(14),o=a(0),s=a.n(o),i=a(19),c=a.n(i),l=a(21),u=a(13),m=a(30),d=a(31),f=a.n(d),p=a(32),h=a(9),v=a(10),b=a(12),y=a(11),g=a(16),E=a(35),R=a(2),k=a(8),N=function(e){return e.train},w=Object(k.a)([N],(function(e){var t=e.units,a=e.selectedIdDe,n=t.find((function(e){return e.id===a}));return null!==n&&void 0!==n?n:null})),O=a(27),j=a(51),C=[{score:0,frequency:16,minGap:60},{score:1,frequency:8,minGap:300},{score:2,frequency:4,minGap:1800},{score:3,frequency:2,minGap:10800},{score:4,frequency:1,minGap:86400}],D=function(e){for(var t=new Array(e.length),a=0,n=0;n<e.length;n++)a+=e[n],t[n]=a;return t},S=function(e,t){return e.length>0?e.slice(-1)[0]:t},x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random(),n=e.map((function(e){return t(e)})),r=D(n),o=S(r,0);if(0===o)return null;var s=a*o,i=r.findIndex((function(e){return s<=e}));return e[i]},I={units:a(33).map((function(e,t){return Object(O.a)(Object(O.a)({},e),{},{id:t,progress:{scoreDe:0,scoreFaPh:0,lastCorrectDe:null,lastCorrectFaPh:null}})})),selectedIdDe:0},P=Object(r.b)({name:"train",initialState:I,reducers:{selectDe:function(e){var t,a=x(e.units,(function(e){return F(e)}));e.selectedIdDe=null!==(t=null===a||void 0===a?void 0:a.id)&&void 0!==t?t:null},passDe:function(e){var t=e.units,a=e.selectedIdDe,n=M(t,a);n.scoreDe=Math.min(n.scoreDe+1,5),n.lastCorrectDe=(new Date).toISOString()},failDe:function(e){var t=e.units,a=e.selectedIdDe,n=M(t,a);n.scoreDe=Math.max(n.scoreDe-1,0)}}}),F=function(e){var t=e.progress,a=t.scoreDe,n=t.lastCorrectDe,r=C.find((function(e){return e.score===a})),o=A(n);return void 0!==r&&o>r.minGap?r.frequency:0},A=function(e){return null!==e?Object(j.a)(new Date,new Date(e)):Number.POSITIVE_INFINITY},M=function(e,t){var a=e.find((function(e){return e.id===t}));if(!a)throw new Error("Learning unit with id ".concat(t," does not exist."));return a.progress},T=P.actions,G=T.passDe,B=T.failDe,q=T.selectDe,z=P.reducer;!function(e){e[e.Initial=0]="Initial",e[e.Retry=1]="Retry",e[e.Passed=2]="Passed",e[e.PassedOnRetry=3]="PassedOnRetry",e[e.Failed=4]="Failed"}(n||(n={}));var W=function(){return s.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-plus",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{fillRule:"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}))},J=function(){return s.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-dash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{fillRule:"evenodd",d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"}))},K=function(e){Object(b.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={expanded:!1},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.value;return this.state.expanded?s.a.createElement("div",{className:"cursor-pointer",onClick:function(){return e.setState({expanded:!1})}},s.a.createElement(J,null)," ",a,": ",s.a.createElement("em",null,n)):s.a.createElement("div",{className:"cursor-pointer",onClick:function(){return e.setState({expanded:!0})}},s.a.createElement(W,null)," ",a)}}]),a}(s.a.Component),L=function(e){Object(b.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(h.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={enteredTranslation:"",stage:n.Initial},e}return Object(v.a)(a,[{key:"submit",value:function(e){e.preventDefault(),this.isShowSolution()?this.proceed():this.check()}},{key:"proceed",value:function(){this.props.proceed(),this.setState({enteredTranslation:"",stage:n.Initial})}},{key:"check",value:function(){var e=this.state.enteredTranslation===this.props.unit.de;this.reportResult(e),this.setState({stage:this.getStageAfterCheck(e)})}},{key:"getStageAfterCheck",value:function(e){return e?this.state.stage===n.Initial?n.Passed:n.PassedOnRetry:n.Retry}},{key:"solve",value:function(){this.reportResult(!1),this.setState({stage:n.Failed})}},{key:"reportResult",value:function(e){this.state.stage===n.Initial&&(e?this.props.pass():this.props.fail())}},{key:"render",value:function(){var e=this,t=this.props.unit;return s.a.createElement("form",{onSubmit:function(t){return e.submit(t)}},s.a.createElement("h2",null,"Deutsch trainieren"),s.a.createElement("div",{className:"mb-3"},s.a.createElement("div",null,"Fortschritt"),s.a.createElement("div",{className:"form-control-plaintext"+(this.isCountingAsFailure()?" text-danger":"")+(this.isCountingAsSuccess()?" text-success":"")},t.progress.scoreDe)),s.a.createElement("div",{className:"mb-3"},s.a.createElement("div",null,"Persisch"),s.a.createElement("div",{className:"form-control-plaintext text-large"},t.fa),s.a.createElement("div",{className:"form-text"},s.a.createElement(K,{title:"Romanisierung",value:t.faRm}))),this.isShowSolution()?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mb-3"},s.a.createElement("div",null,"Deutsch"),s.a.createElement("div",{className:"form-control-plaintext"},this.isCountingAsFailure()?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"text-danger text-decoration-line-through"},this.state.enteredTranslation),s.a.createElement("span",null," ")):null,s.a.createElement("span",{className:"text-success"},t.de)),s.a.createElement("div",{className:"form-text"},s.a.createElement(K,{title:"Englisch",value:t.en})))):s.a.createElement("div",{className:"mb-3"},s.a.createElement("label",{htmlFor:"german"},"Deutsch"),s.a.createElement("input",{type:"text",id:"german",className:"form-control",value:this.state.enteredTranslation,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",onChange:function(t){return e.setState({enteredTranslation:t.target.value})}}),s.a.createElement("div",{className:"form-text"},"\xa0")),this.renderButtons())}},{key:"renderButtons",value:function(){var e=this;return this.isShowSolution()?s.a.createElement("div",{className:"col"},s.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",key:"proceed-btn"},"Weiter")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-6 col-sm-4"},s.a.createElement("button",{type:"button",className:"btn btn-secondary btn-block",key:"solve-btn",onClick:function(){return e.solve()}},"Aufl\xf6sen")),s.a.createElement("div",{className:"col-6 col-sm-8"},s.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",key:"chck-btn"},"\xdcberpr\xfcfen"))),this.state.stage===n.Initial?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("button",{type:"button",className:"btn btn-link btn-block",key:"skip-btn",onClick:function(){return e.proceed()}},"\xdcberspringen"))):"")}},{key:"isShowSolution",value:function(){return[n.Passed,n.PassedOnRetry,n.Failed].includes(this.state.stage)}},{key:"isCountingAsFailure",value:function(){return[n.PassedOnRetry,n.Retry,n.Failed].includes(this.state.stage)}},{key:"isCountingAsSuccess",value:function(){return[n.Passed].includes(this.state.stage)}}]),a}(s.a.Component),H={pass:G,fail:B,proceed:q},V=Object(l.b)((function(e){return{unit:w(e)}}),H)(L),Y=function(e){Object(b.a)(a,e);var t=Object(y.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,"Hello TrainPhoneticPersian")}}]),a}(s.a.Component),$=[s.a.createElement(R.a,{key:"train-german",path:"/train/german",component:V}),s.a.createElement(R.a,{key:"train-phonetic-persian",path:"/train/phonetic-persian",component:Y})],_=Object(E.a)($),Q=a(34),U=function(e){Object(b.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).collapseRef=s.a.createRef(),e.collapse=void 0,e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.collapseRef.current&&(this.collapse=new Q.a(this.collapseRef.current,{toggle:!1}))}},{key:"render",value:function(){var e=this;return s.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-primary mb-2"},s.a.createElement("div",{className:"container"},s.a.createElement("span",{className:"navbar-brand mb-0 h1"},"Persian Learner"),s.a.createElement("button",{type:"button",className:"navbar-toggler",onClick:function(){var t;return null===(t=e.collapse)||void 0===t?void 0:t.toggle()}},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{id:"navbar-content",className:"collapse navbar-collapse",ref:this.collapseRef},s.a.createElement("ul",{className:"navbar-nav mr-auto mb-0"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(g.b,{className:"nav-link",to:"/train/german",onClick:function(){var t;return null===(t=e.collapse)||void 0===t?void 0:t.hide()}},"Deutsch trainieren")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(g.b,{className:"nav-link",to:"/train/phonetic-persian",onClick:function(){var t;return null===(t=e.collapse)||void 0===t?void 0:t.hide()}},"Persisch trainieren"))))))}}]),a}(s.a.Component),X=function(e){Object(b.a)(a,e);var t=Object(y.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return s.a.createElement(g.a,{basename:"/persian-learner"},s.a.createElement("header",null,s.a.createElement(U,null)),s.a.createElement("main",{className:"container"},_))}}]),a}(s.a.Component),Z=(a(48),a(3)),ee=Object(Z.c)({train:z});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));(function(){var e=window.location;if("/"===e.search[1]){var t=e.search.slice(1).split("&").map((function(e){return e.replace(/~and~/g,"&")})).join("?"),a=e.pathname.slice(0,-1)+t+e.hash;window.history.replaceState(null,null,a)}})();var te=Object(u.g)({key:"root",storage:f.a,version:1},ee),ae=Object(r.a)({reducer:te,middleware:Object(r.c)({serializableCheck:{ignoredActions:[u.a,u.f,u.b,u.c,u.d,u.e]}})}),ne=Object(u.h)(ae);c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement("span",{className:"version",hidden:!0},p.a,"-","production"),s.a.createElement(l.a,{store:ae},s.a.createElement(m.a,{loading:null,persistor:ne},s.a.createElement(X,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.de8b5d3f.chunk.js.map