(this["webpackJsonppersian-learner"]=this["webpackJsonppersian-learner"]||[]).push([[0],{31:function(e){e.exports=JSON.parse('{"a":"0.1.0"}')},34:function(e){e.exports=JSON.parse('[{"id":0,"type":"noun","de":"Wasser","en":"water","fa":"\u0622\u0628","faRm":"oob"},{"id":1,"type":"noun","de":"Papa","en":"dad","fa":"\u0628\u0627\u0628\u0627","faRm":"booboo"},{"id":2,"type":"unclassified","de":"mit","en":"with","fa":"\u0628\u0627","faRm":"boo"},{"id":3,"type":"noun","de":"Brot","en":"bread","fa":"\u0646\u0627\u0646","faRm":"naan"},{"id":4,"type":"noun","de":"Geb\xe4ude","en":"building","fa":"\u0628\u064e\u0646\u0627","faRm":"banoo"},{"id":5,"type":"unclassified","de":"das","en":"that","fa":"\u0622\u0646","faRm":"oon"},{"id":6,"type":"noun","de":"Wind","en":"wind","fa":"\u0628\u0627\u062f","faRm":"bood"},{"id":7,"type":"noun","de":"K\xf6rper","en":"body","fa":"\u0628\u064e\u062f\u064e\u0646","faRm":"badan"},{"id":8,"type":"adjective","de":"schlecht","en":"bad","fa":"\u0628\u064e\u062f","faRm":"bad"},{"id":9,"type":"noun","de":"Schrei","en":"shout","fa":"\u062f\u0627\u062f","faRm":"dood"},{"id":10,"type":"verb","de":"geben","en":"give","fa":"\u062f\u0627\u062f\u064e\u0646","faRm":"doodan"},{"id":11,"type":"noun","de":"T\xfcr","en":"door","fa":"\u062f\u064e\u0631","faRm":"dar"},{"id":12,"type":"noun","de":"Last","en":"load","fa":"\u0628\u0627\u0631","faRm":"boor"},{"id":13,"type":"verb","de":"fahren","en":"drive","fa":"\u0631\u0627\u0646\u062f\u064e\u0646","faRm":"roondan"},{"id":14,"type":"unclassified","de":"er / sie hat nicht","en":"he / she doesn\'t have","fa":"\u0646\u064e\u062f\u0627\u0631\u064e\u062f","faRm":"nadoorad"},{"id":15,"type":"noun","de":"Granatapfel","en":"pomegranate","fa":"\u0627\u064e\u0646\u0627\u0631","faRm":"aanoor"},{"id":16,"type":"noun","de":"Regen","en":"rain","fa":"\u0628\u0627\u0631\u0627\u0646","faRm":"booroon"},{"id":17,"type":"noun","de":"Mehl","en":"flour","fa":"\u0622\u0631\u062f","faRm":"oord"},{"id":18,"type":"unclassified","de":"er / sie hat","en":"he / she has","fa":"\u062f\u0627\u0631\u064e\u062f","faRm":"doorad"},{"id":19,"type":"noun","de":"Name","en":"name","fa":"\u0646\u0627\u0645","faRm":"noom"},{"id":20,"type":"unclassified","de":"ich habe","en":"I have","fa":"\u062f\u0627\u0631\u064e\u0645","faRm":"dooram"},{"id":21,"type":"unclassified","de":"ich kam","en":"I came","fa":"\u0622\u0645\u064e\u062f\u064e\u0645","faRm":"oomadam"},{"id":22,"type":"unclassified","de":"er / sie kam","en":"he / she came","fa":"\u0622\u0645\u064e\u062f","faRm":"oomad"},{"id":23,"type":"noun","de":"Mandel","en":"almond","fa":"\u0628\u0627\u062f\u0627\u0645","faRm":"boodoom"},{"id":24,"type":"noun","de":"Mutter","en":"mother","fa":"\u0645\u0627\u062f\u064e\u0631","faRm":"moodar"},{"id":25,"type":"noun","de":"Schlange","en":"snake","fa":"\u0645\u0627\u0631","faRm":"moor"},{"id":26,"type":"unclassified","de":"ich","en":"I","fa":"\u0645\u064e\u0646","faRm":"man"},{"id":27,"type":"noun","de":"Mann","en":"man","fa":"\u0645\u064e\u0631\u062f","faRm":"mard"},{"id":28,"type":"noun","de":"Kopf","en":"head","fa":"\u0633\u064e\u0631","faRm":"sar"},{"id":29,"type":"noun","de":"Kopfschmerzen","en":"headache","fa":"\u0633\u064e\u0631\u062f\u064e\u0631\u062f","faRm":"sardard"},{"id":30,"type":"noun","de":"Gift","en":"poison","fa":"\u0633\u064e\u0645","faRm":"sam"},{"id":31,"type":"noun","de":"Sichel","en":"sickle","fa":"\u062f\u0627\u0633","faRm":"doos"},{"id":32,"type":"noun","de":"Korb","en":"basket","fa":"\u0633\u064e\u0628\u064e\u062f","faRm":"sabad"},{"id":33,"type":"noun","de":"Pferd","en":"horse","fa":"\u0627\u0633\u0628","faRm":"aasb"}]')},36:function(e,n,t){e.exports=t(50)},47:function(e,n,t){},49:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var a,r=t(12),i=t(0),o=t.n(i),l=t(19),s=t.n(l),c=t(21),u=t(14),d=t(29),m=t(30),f=t.n(m),p=t(31),h=t(7),v=t(8),b=t(10),g=t(9),y=t(16),E=t(35),w=t(2),k=function(e){Object(b.a)(t,e);var n=Object(g.a)(t);function t(){return Object(h.a)(this,t),n.apply(this,arguments)}return Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"Hello FarsiTrainer")}}]),t}(o.a.Component),R=t(13),O=function(e,n){if(null===e||void 0===e)return null;var t=n[e];return void 0===t?null:t},N=function(e){return e.lexicon},j=Object(R.a)([N],(function(e){return e.units})),x=Object(R.a)([j],(function(e){return Object.keys(e).map((function(n){return e[n]}))})),C=function(e){return e.trainer},S=Object(R.a)([C],(function(e){var n,t=e.trainingUnit;return null!==(n=null===t||void 0===t?void 0:t.lang)&&void 0!==n?n:null})),A=Object(R.a)([C,j],(function(e,n){var t=e.trainingUnit;return O(null===t||void 0===t?void 0:t.id,n)})),D=Object(R.a)([C],(function(e){var n,t=e.trainingUnit,a=e.trainingProgress;return null!==(n=O(null===t||void 0===t?void 0:t.id,a))&&void 0!==n?n:{scoreDe:0,scoreFa:0,lastCorrectDe:null,lastCorrectFa:null}})),P=t(32),F=t(52),I=[{score:0,frequency:16,minGap:60},{score:1,frequency:8,minGap:300},{score:2,frequency:4,minGap:1800},{score:3,frequency:2,minGap:10800},{score:4,frequency:1,minGap:86400}],M=function(e){for(var n=new Array(e.length),t=0,a=0;a<e.length;a++)t+=e[a],n[a]=t;return n},T=function(e,n){return e.length>0?e.slice(-1)[0]:n},W=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random(),a=e.map((function(e){return n(e)})),r=M(a),i=T(r,0);if(0===i)return null;var o=t*i,l=r.findIndex((function(e){return o<=e}));return e[l]},z=Object(r.b)("train/select",(function(e,n){var t=n.getState;return x(t())})),G=Object(r.c)({name:"train",initialState:{trainingUnit:null,trainingProgress:{}},reducers:{pass:function(e){var n=U(e);n.scoreDe=Math.min(n.scoreDe+1,5),n.lastCorrectDe=(new Date).toISOString()},fail:function(e){var n=U(e);n.scoreDe=Math.max(n.scoreDe-1,0)}},extraReducers:Object(P.a)({},z.fulfilled.type,(function(e,n){var t=n.payload,a=e.trainingProgress,r=W(t,(function(e){return B(a[e.id])}));e.trainingUnit=V(r)}))}),U=function(e){var n=e.trainingUnit,t=e.trainingProgress;if(null===n)throw new Error("No training unit selected");return void 0===t[n.id]&&(t[n.id]={scoreDe:0,scoreFa:0,lastCorrectDe:null,lastCorrectFa:null}),t[n.id]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scoreDe:0,scoreFa:0,lastCorrectDe:null,lastCorrectFa:null},n=e.scoreDe,t=e.lastCorrectDe,a=I.find((function(e){return e.score===n})),r=q(t);return void 0!==a&&r>a.minGap?a.frequency:0},q=function(e){return null!==e?Object(F.a)(new Date,new Date(e)):Number.POSITIVE_INFINITY},V=function(e){return null!==e?{id:e.id,lang:"de"}:null},J=G.actions,K=J.pass,L=J.fail,Z=G.reducer;!function(e){e[e.Initial=0]="Initial",e[e.Retry=1]="Retry",e[e.Passed=2]="Passed",e[e.PassedOnRetry=3]="PassedOnRetry",e[e.Failed=4]="Failed"}(a||(a={}));var H=function(){return o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-dash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"}))},Y=function(){return o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-hourglass-split",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0c0 .701.478 1.236 1.011 1.492A3.5 3.5 0 0 1 11.5 13s-.866-1.299-3-1.48V8.35z"}))},$=function(){return o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-plus",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}))},_=function(e){Object(b.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={expanded:!1},e}return Object(v.a)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.title,a=n.value;return this.state.expanded?o.a.createElement("div",{className:"cursor-pointer",onClick:function(){return e.setState({expanded:!1})}},o.a.createElement(H,null)," ",t,": ",o.a.createElement("em",null,a)):o.a.createElement("div",{className:"cursor-pointer",onClick:function(){return e.setState({expanded:!0})}},o.a.createElement($,null)," ",t)}}]),t}(o.a.Component),Q=function(e){Object(b.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={enteredTranslation:"",stage:a.Initial},e}return Object(v.a)(t,[{key:"submit",value:function(e){e.preventDefault(),this.isShowSolution()?this.proceed():this.check()}},{key:"proceed",value:function(){this.props.next(),this.setState({enteredTranslation:"",stage:a.Initial})}},{key:"check",value:function(){var e=this.state.enteredTranslation===this.props.unit.de;this.reportResult(e),this.setState({stage:this.getStageAfterCheck(e)})}},{key:"getStageAfterCheck",value:function(e){return e?this.state.stage===a.Initial?a.Passed:a.PassedOnRetry:a.Retry}},{key:"solve",value:function(){this.reportResult(!1),this.setState({stage:a.Failed})}},{key:"reportResult",value:function(e){this.state.stage===a.Initial&&(e?this.props.pass():this.props.fail())}},{key:"render",value:function(){var e=this,n=this.props,t=n.progress,a=n.unit;return o.a.createElement("form",{onSubmit:function(n){return e.submit(n)}},o.a.createElement("h2",null,"Deutsch trainieren"),o.a.createElement("div",{className:"mb-3"},o.a.createElement("div",null,"Fortschritt"),o.a.createElement("div",{className:"form-control-plaintext"+(this.isCountingAsFailure()?" text-danger":"")+(this.isCountingAsSuccess()?" text-success":"")},t.scoreDe)),o.a.createElement("div",{className:"mb-3"},o.a.createElement("div",null,"Persisch"),o.a.createElement("div",{className:"form-control-plaintext text-large"},a.fa),o.a.createElement("div",{className:"form-text"},o.a.createElement(_,{title:"Romanisierung",value:a.faRm}))),this.isShowSolution()?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mb-3"},o.a.createElement("div",null,"Deutsch"),o.a.createElement("div",{className:"form-control-plaintext"},this.isCountingAsFailure()?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"text-danger text-decoration-line-through"},this.state.enteredTranslation),o.a.createElement("span",null," ")):null,o.a.createElement("span",{className:"text-success"},a.de)),o.a.createElement("div",{className:"form-text"},o.a.createElement(_,{title:"Englisch",value:a.en})))):o.a.createElement("div",{className:"mb-3"},o.a.createElement("label",{htmlFor:"german"},"Deutsch"),o.a.createElement("input",{type:"text",id:"german",className:"form-control",value:this.state.enteredTranslation,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",onChange:function(n){return e.setState({enteredTranslation:n.target.value})}}),o.a.createElement("div",{className:"form-text"},"\xa0")),this.renderButtons())}},{key:"renderButtons",value:function(){var e=this;return this.isShowSolution()?o.a.createElement("div",{className:"col"},o.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",key:"proceed-btn"},"Weiter")):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-6 col-sm-4"},o.a.createElement("button",{type:"button",className:"btn btn-secondary btn-block",key:"solve-btn",onClick:function(){return e.solve()}},"Aufl\xf6sen")),o.a.createElement("div",{className:"col-6 col-sm-8"},o.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block",key:"chck-btn"},"\xdcberpr\xfcfen"))),this.state.stage===a.Initial?o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("button",{type:"button",className:"btn btn-link btn-block",key:"skip-btn",onClick:function(){return e.proceed()}},"\xdcberspringen"))):"")}},{key:"isShowSolution",value:function(){return[a.Passed,a.PassedOnRetry,a.Failed].includes(this.state.stage)}},{key:"isCountingAsFailure",value:function(){return[a.PassedOnRetry,a.Retry,a.Failed].includes(this.state.stage)}},{key:"isCountingAsSuccess",value:function(){return[a.Passed].includes(this.state.stage)}}]),t}(o.a.Component),X=(t(47),function(e){return o.a.createElement("form",{onSubmit:function(n){n.preventDefault(),e.next()}},o.a.createElement("div",{className:"no-training"},o.a.createElement(Y,null),o.a.createElement("p",null,"Zur Zeit gibt es nichts zu \xfcben."),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Aktualisieren")))}),ee=function(e){Object(b.a)(t,e);var n=Object(g.a)(t);function t(){return Object(h.a)(this,t),n.apply(this,arguments)}return Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.next()}},{key:"render",value:function(){var e=this.props,n=e.lang,t=e.progress,a=e.unit,r=e.fail,i=e.next,l=e.pass;return"de"===n&&null!==a?o.a.createElement(Q,{unit:a,progress:t,pass:l,fail:r,next:i}):o.a.createElement(X,{next:this.props.next})}}]),t}(o.a.Component),ne={fail:L,next:z,pass:K},te=Object(c.b)((function(e){return{lang:S(e),progress:D(e),unit:A(e)}}),ne)(ee),ae=[o.a.createElement(w.a,{key:"trainer-german",path:"/trainer/german",component:te}),o.a.createElement(w.a,{key:"trainer-farsi",path:"/trainer/farsi",component:k})],re=Object(E.a)(ae),ie=t(33),oe=function(e){Object(b.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).collapseRef=o.a.createRef(),e.collapse=void 0,e}return Object(v.a)(t,[{key:"componentDidMount",value:function(){this.collapseRef.current&&(this.collapse=new ie.a(this.collapseRef.current,{toggle:!1}))}},{key:"render",value:function(){var e=this;return o.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-primary mb-2"},o.a.createElement("div",{className:"container"},o.a.createElement("span",{className:"navbar-brand mb-0 h1"},"Persian Learner"),o.a.createElement("button",{type:"button",className:"navbar-toggler",onClick:function(){var n;return null===(n=e.collapse)||void 0===n?void 0:n.toggle()}},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{id:"navbar-content",className:"collapse navbar-collapse",ref:this.collapseRef},o.a.createElement("ul",{className:"navbar-nav mr-auto mb-0"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(y.b,{className:"nav-link",to:"/trainer/german",onClick:function(){var n;return null===(n=e.collapse)||void 0===n?void 0:n.hide()}},"Deutsch trainieren")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(y.b,{className:"nav-link",to:"/trainer/farsi",onClick:function(){var n;return null===(n=e.collapse)||void 0===n?void 0:n.hide()}},"Persisch trainieren"))))))}}]),t}(o.a.Component),le=function(e){Object(b.a)(t,e);var n=Object(g.a)(t);function t(){return Object(h.a)(this,t),n.apply(this,arguments)}return Object(v.a)(t,[{key:"render",value:function(){return o.a.createElement(y.a,{basename:"/persian-learner"},o.a.createElement("header",null,o.a.createElement(oe,null)),o.a.createElement("main",{className:"container"},re))}}]),t}(o.a.Component),se=(t(49),t(3)),ce=t(34),ue={units:Object.fromEntries(ce.map((function(e){return[e.id,e]})))},de=Object(r.c)({name:"lexicon",initialState:ue,reducers:{}}).reducer,me=Object(se.c)({lexicon:de,trainer:Z}),fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}(function(){var e=window.location;if("/"===e.search[1]){var n=e.search.slice(1).split("&").map((function(e){return e.replace(/~and~/g,"&")})).join("?"),t=e.pathname.slice(0,-1)+n+e.hash;window.history.replaceState(null,null,t)}})();var he=Object(u.g)({key:"root",storage:f.a,version:1},me),ve=Object(r.a)({reducer:he,middleware:Object(r.d)({serializableCheck:{ignoredActions:[u.a,u.f,u.b,u.c,u.d,u.e]}})}),be=Object(u.h)(ve);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement("span",{className:"version",hidden:!0},p.a,"-","production"),o.a.createElement(c.a,{store:ve},o.a.createElement(d.a,{loading:null,persistor:be},o.a.createElement(le,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/persian-learner",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/persian-learner","/service-worker.js");fe?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):pe(n,e)}))}}()}},[[36,1,2]]]);
//# sourceMappingURL=main.4dc0a5ab.chunk.js.map